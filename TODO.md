# TODO LIST

- [x] 截图占用内存高
- [x] 截图启动慢
- [x] 截图工具条位置优化
- [x] 截图工具条拖动支持
- [x] 屏幕录制时，支持设置帧速率
- [x] 屏幕录制时，支持设置质量(会影响生成文件大小)
- [x] 功能插件化（截图，录屏，剪贴板监视）
- [x] 录屏的重复播放次数配置，放到保存对话框中
- [x] 集成图片工具
- [x] [高DPI 支持][highdpi]
- [x] 图片查看器在打开相同文件时，激活已经存在的窗口
- [x] 图片查看器添加选项，以设置是否允许打开多个看图窗口（默认为 false)
- [x] 优化设置选项加载模式，给设置项添加缓存支持(取色时会频繁读取配置，可能导致IO性能问题)
- [x] 整理菜单
- [x] 截图功能，在编辑时支持按下 `Shift` 键画水平/垂直线段/箭头线，正方形，正圆形
- [x] 放大取色历史窗口
- [x] 添加程序日志（记录更新，以及程序异常）
- [x] 看图窗口大小变化时，重新定位图片
- [x] 看图工具，查看通过粘贴显示的图片时，图片未修正尺寸
- [x] 取色历史存储为时间戳，以减小文件大小
- [x] 配置窗口中的数值项，使用 `NumericUpDown` 进行输入
- [x] 截图工具，编辑调小最大线宽
- [x] 截图工具，在编辑时，生成图形的矩形和编辑时不一致
- [x] 截图选中区域后，支持调整尺寸
- [x] 截图工具，编辑支持设置对闭合图形进行填充还是描边
- [ ] 截图工具条，添加撤消/重做按钮
- [ ] 截图和录屏，支持直接选择窗口(获取当前桌面顶层窗口的句柄)
- [ ] 截图工具，支持自由绘制 Polygon
- [ ] 截图工具，编辑支持马赛克，并支持马赛克级别
- [ ] 看图工具，按下滚轮（中键）时才移动图片位置
- [ ] 看图工具，按下左键时，开始绘制矩形框
- [ ] 剪贴板历史支持按日期删除(在左侧树上添加右键菜单)
- [ ] 更新窗口的动画由位置变化改变为渐入 `opacity`，以及对更新文件的校验
- [ ] 通过UDP/websocket向系统广播当前取色的值
- [ ] 接收 websocket 命令，以调用截图功能
- [ ] 重构多语言支持(通过遍历控件文本的方式查找其它语言，并设置其值)
- [ ] 使用 `DrawingContext` 代替 `Graphics` 作为截图编辑支持
- [ ] 使用 WPF 重写看图工具
- [ ] 窗口作为任务栏工具条
- [ ] 修改关于窗口的反馈链接为 github 和 gitee，移除QQ群和邮箱

[highdpi]: https://docs.microsoft.com/zh-cn/dotnet/framework/winforms/automatic-scaling-in-windows-forms

马赛克算法：

1. 指定像素范围
2. 找出范围内所有点的颜色
3. 在所有颜色中取随机值(或平均值)，并调整其色阈为原来的一半(可选)，并填充到范围内所有像素点上
4. 重复前面的2/3步骤，直至整个区域都被填充

